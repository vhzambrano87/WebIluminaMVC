@model WebIluminaMVC.ModelView.UserRoleView

@{
    ViewBag.Title = "Index";
}

@using (Html.BeginForm())
{

    
<div class="jarviswidget" id="wid-id-0" data-widget-colorbutton="false" data-widget-editbutton="false">

    <header>
        <span class="widget-icon"> <i class="fa fa-eye"></i> </span>
        <h2>Roles - @Model.user.name @Model.user.lastname </h2>

    </header>
    <div>
        <div class="jarviswidget-editbox">
        </div>
        <div class="widget-body">
            <fieldset>

                <div class="row">
                    <div class="col-sm-4">
                                          
                         <a data-toggle="modal" href="#myModal" class="btn bg-color-blueDark txt-color-white header-btn hidden-mobile"><i class="fa fa-circle-arrow-up fa-lg"></i> Agregar Roles</a>
                       
                    </div>
                    <div class="col-sm-8">
                    </div>
                </div>
                <br />


                <table id="dt_basic" class="table table-striped table-bordered table-hover" width="100%">
                    <thead>
                        <tr>
                            <th>Roles</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (var i = 0; i < Model.userRoleList.Count(); i++)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => Model.userRoleList[i].role.name)
                                </td>
                                <td> 
                                    @Html.ActionLink("Eliminar", "Delete", new { id = @Model.userRoleList[i].userRoleID })                                      
                                    
                                </td>
                            </tr>
                            @Html.HiddenFor(modelItem => Model.userRoleList[i].userRoleID)
                        }
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>
</div>

@Html.HiddenFor(model => model.user.userID)



<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    <img src="@Settings.CurrentLogo" width="150" alt="SmartAdmin">
                </h4>
            </div>
            <div class="modal-body no-padding">

                <div>
                    <div class="jarviswidget-editbox">
                    </div>
                    <div class="widget-body">
                        <fieldset>                                                        
                            <br />
                            <table id="dt_basic2" class="table table-striped table-bordered table-hover" width="100%">
                                <thead>
                                    <tr>
                                        <th>Roles</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (var i = 0; i < Model.roles.Count(); i++)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => Model.roles[i].name)
                                            </td>
                                            <td>
                                                @Html.CheckBoxFor(modelItem => Model.roles[i].selected)                                                
                                            </td>
                                        </tr>
                                        @Html.HiddenFor(modelItem => Model.roles[i].roleID)
                                        @Html.HiddenFor(modelItem => Model.roles[i].selected)
                                    }
                                </tbody>
                            </table>

                            <div class="form-group">
                                
                                <div class="row">
                                    <div class="col-md-offset-2 col-md-10">
                                        <input type="submit" name = "ActionForm" value="Registrar" class="btn bg-color-blueDark txt-color-white" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>   
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
}
